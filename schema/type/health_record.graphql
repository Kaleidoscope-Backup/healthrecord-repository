
enum HealthRecordType {
  ADDICTION
  ACTIVITY
  MEAL
  SLEEP
  ADVERSE_EVENT
  MEDICATION
  CONDITION
  ENCOUNTER
  LABRESULT
  IMAGINGRESULT
  HEART_RATE
  BLOOD_GLUCOSE
  BLOOD_PRESSURE
  WEIGHT
  HEIGHT
  IMMUNIZATION
  ALLERGY
  SPECIMEN
  DIAGNOSTIC_REPORT
  FAMILY_HISTORY
  SOCIAL_HISTORY_OBSERVATION_RECORD
  PERSONAL_CHARACTERISTICS_OBSERVATION
  CLINICAL_ASSESMENT_OBSERVATION
  IMAGING_RESULT_OBSERVATION
  LAB_RESULT_OBSERVATION
  VITAL_OBSERVATION
  APPOINTMENT
  OBSERVATION 
}

enum HealthRecordTransactionType {
    # From External System through ingestion
    INSERT  
    # Created from our application
    CREATE  
    UPDATE
    DELETE
}

input ReferenceHealthRecordInput {
    type: HealthRecordType!
    referencedID: String!
}

type ReferenceHealthRecord {
    id: String!
    type: HealthRecordType!
    referencedID: String!
}

# This is the base interface for all health records pertaining to a consumer
interface HealthRecord {
    id: String!
    consumerID: String!
    previousRecord: String
    recordType: HealthRecordType!
    transactionType: HealthRecordTransactionType!
    name: String!
    description: String
    occurred: Time!
    source: String!    
    created: Time!
    createdBy: String
    organization: String
    sourceRecordID: SourceRecordID
    references: [ReferenceHealthRecord!]
    location: GeoLocation 
}

# This is the list of health records returned by the query
type HealthRecords {
    count: Int!
    Records: [HealthRecord!]!
}

# Diagnosis 
type Diagnosis {
    name: String!
    code: ClinicalCode
}

input DiagnosisInput {
    name: String!
}

# Reason
type Reason {
    name: String!
    code: ClinicalCode
}

input ReasonInput {
    name: String!
}